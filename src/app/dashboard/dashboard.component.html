<app-navbar></app-navbar>

<div style="align-self: center; padding: 10px;">
  <div class="row justify-content-center" style="padding: 20px;">
    <div class="col-2">
      <label for="typeahead-format">Search with Title* :</label>
      <input id="typeahead-format" type="text" class="form-control" [disabled]="inputbox" [(ngModel)]="modelTitle"
        [ngbTypeahead]="searchTitle" [resultFormatter]="formatter" />
      <hr />
    </div>
    <div class="col-2">
      <label for="typeahead-format">Search with Industry:</label>
      <input id="typeahead-format" type="text" class="form-control" [disabled]="inputbox" [(ngModel)]="modelIndustry"
        [ngbTypeahead]="searchIndustry" [resultFormatter]="formatter" />
      <hr />
    </div>
    <div class="col-2">
      <label for="typeahead-format">Search with Country* :</label>
      <input id="typeahead-format" type="text" class="form-control" [disabled]="inputbox" [(ngModel)]="modelCountry"
        [ngbTypeahead]="searchCountry" [resultFormatter]="formatter" />
      <hr />
    </div>
    <div class="col-2">
      <label for="typeahead-format">Total Records* :</label>
      <input id="typeahead-format" type="number" class="form-control" [disabled]="inputbox"
        [(ngModel)]="modelTotalRecords" />
      <hr />
    </div>
    <div class="col-4">
      <label for="typeahead-format">Search with Email: </label>
      <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"  style="margin-left: 5px;" (click)="oncheckboxclick($event)" >
      <label class="form-check-label" for="flexCheckDefault" style="margin-left: 25px;">
        Yes
      </label>
      <input id="typeahead-format" type="text" class="form-control" [disabled]="enableEmailBox" [(ngModel)]="modelEmail" />
      <hr />
    </div>


    <button mat-raised-button [hidden]="searchButton" color="primary" style="width: auto; margin-top: 30px;" (click)="validation()">
      <mat-icon>search</mat-icon>

      Search Records</button>
      <button mat-raised-button color="primary" [hidden]="searchByEmailButton" style="width: auto;  margin-top: 30px;" (click)="validation()">
        <mat-icon>search</mat-icon>
  
        Search by Emails</button>

            <div class="text-center" [hidden]="isloaderHidden">
          <div class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </div>


</div>

<div style="padding: 1%; " [hidden]="tableHidden">
  <!-- <a mat-raised-button color="primary" style="width: auto;" href="{{url}}"  download target="_blank">
    <mat-icon>download</mat-icon> 
    
    Download</a> -->
  <div>
    <button mat-raised-button color="primary" style="width: auto;" (click)="download()">
    <mat-icon>download</mat-icon>

    Download</button>
    <button mat-raised-button style="width: auto; margin-left: 20px;background-color: #f44336;  color: white;" disabled="true">
      Total Records: {{totalRecords}}</button>
  </div>
  <table class="table table-striped table-responsive">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Email</th>
        <th scope="col">Title</th>
        <th scope="col">Company</th>
        <th scope="col">Websites</th>
        <th scope="col">Employee's count</th>
        <th scope="col">Industry</th>
        <th scope="col">Country</th>
        <th scope="col">City</th>
        <th scope="col">State</th>
        <th scope="col">Linkedin Ids</th>
        <th scope="col">Phone</th>
      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let response of data | paginate :{id:'listing-pagination',
      itemsPerPage:10,
      currentPage:page,
      totalItems:totalRecords}">
        <th scope="row">{{response.id | number}}</th>
        <td>{{response.firstname}}</td>
        <td>{{response.lastname}}</td>
        <td>{{response.email}}</td>
        <td>{{response.title}}</td>
        <td>{{response.company}}</td>
        <td>{{response.websites}}</td>
        <td>{{response.employee_count}}</td>
        <td>{{response.industry}}</td>
        <td>{{response.country}}</td>
        <td>{{response.city}}</td>
        <td>{{response.state}}</td>
        <td>{{response.linkedin_ids}}</td>
        <td>{{response.phone}}</td>
      </tr>
    </tbody>
  </table>


  <!-- <mat-paginator [length]="length" [pageSize]="pageSize" (page)="handlePageEvent($event)"
    [showFirstLastButtons]="showFirstLastButtons" [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
    [pageIndex]="pageIndex" aria-label="Select page">
  </mat-paginator> -->

  <div >
    <pagination-controls id="listing-pagination" [maxSize]="5" (pageChange)="page=$event">
   
    </pagination-controls>
  </div>


</div>